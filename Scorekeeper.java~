import java.util.ArrayList;
import java.io.FileReader;
import java.io.BufferedReader;

public class Scorekeeper {
    
    private final static String scoreboardFile = "scores.txt"; 
    private static ArrayList<Score> scores;// = callScoreboard();

    public static ArrayList<Score> getScores() {
        return scores;
    }

    public static void addScore(String name, int points) {
        scores.add(new Score(name, points));
    }
    
    public static void addScore(String name, int points, String date) {
        scores.add(new Score(name, points, date));
    }

    public static void addScore(Score newScore) {
        scores.add(newScore);
    }

    //*
    private static ArrayList<Score> callScoreboard() {
        ArrayList<Score> output = new ArrayList<Score>();
        ArrayList<String> entries = new ArrayList<String>();
        String rawScoreboard = getRawScoreboard();

        System.out.println("Raw scores: " + rawScoreboard);


        String currentEntry; //Keeps track of the entry that this while loop is on

        //Parses through the raw text and fills the ArrayList<String> entries
        while (rawScoreboard.contains("[") && rawScoreboard.contains("]")) {
          entries.add(rawScoreboard.substring(rawScoreboard.indexOf('['), rawScoreboard.indexOf(']') + 1));
          rawScoreboard = rawScoreboard.substring(rawScoreboard.indexOf(']'));
        }
        
        //Fills ArrayList<Score> scores from properties in ArrayList<String> entries

        return output;
    } //*/

    private static String getRawScoreboard() {
        String output = "";

        //This reads the file "scoreboardFile", don't touch it...
        try {
            BufferedReader br = new BufferedReader(new FileReader(scoreboardFile));

            String line;
            while ((line = br.readLine()) != null) {
                output += line;
            }
            br.close();
            return output;
        } catch (Exception e) {
            System.out.println("Unable to locate " + scoreboardFile);
        }

        System.out.println(output);
        return output;
    }

    private static String[] blankScoreboard() {
        String output[] = new String[4];

        output[0] = "+----------HIGH SCORES----------+";
        output[1] = "| NAME      | SCORE | DATE      |";
        output[2] = "|           |       |           |";
        output[3] = "+-----------+-------+-----------+";

        return output;
    }

    public static void main(String[] args) {
        Scorekeeper.callScoreboard();
    }
}